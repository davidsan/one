<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sat Jun 28 23:25:21 CEST 2014 -->
<title>MaxPropRouter</title>
<meta name="date" content="2014-06-28">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MaxPropRouter";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../routing/LifeRouter.html" title="class in routing"><span class="strong">Prev Class</span></a></li>
<li><a href="../routing/MaxPropRouterWithEstimation.html" title="class in routing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?routing/MaxPropRouter.html" target="_top">Frames</a></li>
<li><a href="MaxPropRouter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">routing</div>
<h2 title="Class MaxPropRouter" class="title">Class MaxPropRouter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../routing/MessageRouter.html" title="class in routing">routing.MessageRouter</a></li>
<li>
<ul class="inheritance">
<li><a href="../routing/ActiveRouter.html" title="class in routing">routing.ActiveRouter</a></li>
<li>
<ul class="inheritance">
<li>routing.MaxPropRouter</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MaxPropRouter</span>
extends <a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></pre>
<div class="block">Implementation of MaxProp router as described in 
 <I>MaxProp: Routing for Vehicle-Based Disruption-Tolerant Networks</I> by
 John Burgess et al.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#ALPHA_S">ALPHA_S</a></strong></code>
<div class="block">The alpha parameter string</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#BYTES_TRANSFERRED_AVG_SAMPLES">BYTES_TRANSFERRED_AVG_SAMPLES</a></strong></code>
<div class="block">Over how many samples the "average number of bytes transferred per
 transfer opportunity" is taken</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#DEFAULT_ALPHA">DEFAULT_ALPHA</a></strong></code>
<div class="block">The default value for alpha</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#DEFAULT_PROB_SET_MAX_SIZE">DEFAULT_PROB_SET_MAX_SIZE</a></strong></code>
<div class="block">Default value for the meeting probability set maximum size (50).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#MAXPROP_NS">MAXPROP_NS</a></strong></code>
<div class="block">Router's setting namespace ("MaxPropRouter")</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#PROB_SET_MAX_SIZE_S">PROB_SET_MAX_SIZE_S</a></strong></code>
<div class="block">Meeting probability set maximum size -setting id ("probSetMaxSize").</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_routing.ActiveRouter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;routing.<a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></h3>
<code><a href="../routing/ActiveRouter.html#DELETE_DELIVERED_S">DELETE_DELIVERED_S</a>, <a href="../routing/ActiveRouter.html#deleteDelivered">deleteDelivered</a>, <a href="../routing/ActiveRouter.html#RESPONSE_PREFIX">RESPONSE_PREFIX</a>, <a href="../routing/ActiveRouter.html#sendingConnections">sendingConnections</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_routing.MessageRouter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;routing.<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></h3>
<code><a href="../routing/MessageRouter.html#B_SIZE_S">B_SIZE_S</a>, <a href="../routing/MessageRouter.html#DENIED_LOW_RESOURCES">DENIED_LOW_RESOURCES</a>, <a href="../routing/MessageRouter.html#DENIED_NO_SPACE">DENIED_NO_SPACE</a>, <a href="../routing/MessageRouter.html#DENIED_OLD">DENIED_OLD</a>, <a href="../routing/MessageRouter.html#DENIED_POLICY">DENIED_POLICY</a>, <a href="../routing/MessageRouter.html#DENIED_TTL">DENIED_TTL</a>, <a href="../routing/MessageRouter.html#DENIED_UNSPECIFIED">DENIED_UNSPECIFIED</a>, <a href="../routing/MessageRouter.html#MSG_TTL_S">MSG_TTL_S</a>, <a href="../routing/MessageRouter.html#msgTtl">msgTtl</a>, <a href="../routing/MessageRouter.html#Q_MODE_FIFO">Q_MODE_FIFO</a>, <a href="../routing/MessageRouter.html#Q_MODE_RANDOM">Q_MODE_RANDOM</a>, <a href="../routing/MessageRouter.html#RCV_OK">RCV_OK</a>, <a href="../routing/MessageRouter.html#SEND_QUEUE_MODE_S">SEND_QUEUE_MODE_S</a>, <a href="../routing/MessageRouter.html#TRY_LATER_BUSY">TRY_LATER_BUSY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#MaxPropRouter(routing.MaxPropRouter)">MaxPropRouter</a></strong>(<a href="../routing/MaxPropRouter.html" title="class in routing">MaxPropRouter</a>&nbsp;r)</code>
<div class="block">Copy constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#MaxPropRouter(core.Settings)">MaxPropRouter</a></strong>(<a href="../core/Settings.html" title="class in core">Settings</a>&nbsp;settings)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#calcThreshold()">calcThreshold</a></strong>()</code>
<div class="block">Calculates and returns the current threshold value for the buffer's split
 based on the average number of bytes transferred per transfer opportunity
 and the hop counts of the messages in the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#changedConnection(core.Connection)">changedConnection</a></strong>(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</code>
<div class="block">Called when a connection's state changes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#getCost(core.DTNHost, core.DTNHost)">getCost</a></strong>(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from,
       <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;to)</code>
<div class="block">Returns the message delivery cost between two hosts from this host's
 point of view.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../core/Message.html" title="class in core">Message</a></code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#getNextMessageToRemove(boolean)">getNextMessageToRemove</a></strong>(boolean&nbsp;excludeMsgBeingSent)</code>
<div class="block">Returns the next message that should be dropped, according to MaxProp's
 message ordering scheme (see <code>MaxPropTupleComparator</code>).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../routing/util/RoutingInfo.html" title="class in routing.util">RoutingInfo</a></code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#getRoutingInfo()">getRoutingInfo</a></strong>()</code>
<div class="block">Returns routing information about this router.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../core/Message.html" title="class in core">Message</a></code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#messageTransferred(java.lang.String, core.DTNHost)">messageTransferred</a></strong>(java.lang.String&nbsp;id,
                  <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</code>
<div class="block">This method should be called (on the receiving host) after a message
 was successfully transferred.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#replicate()">replicate</a></strong>()</code>
<div class="block">Creates a replicate of this router.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#transferDone(core.Connection)">transferDone</a></strong>(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</code>
<div class="block">Method is called just before a transfer is finalized 
 at <a href="../routing/ActiveRouter.html#update()"><code>ActiveRouter.update()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../routing/MaxPropRouter.html#update()">update</a></strong>()</code>
<div class="block">Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_routing.ActiveRouter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;routing.<a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></h3>
<code><a href="../routing/ActiveRouter.html#addToSendingConnections(core.Connection)">addToSendingConnections</a>, <a href="../routing/ActiveRouter.html#canStartTransfer()">canStartTransfer</a>, <a href="../routing/ActiveRouter.html#checkReceiving(core.Message, core.DTNHost)">checkReceiving</a>, <a href="../routing/ActiveRouter.html#createNewMessage(core.Message)">createNewMessage</a>, <a href="../routing/ActiveRouter.html#dropExpiredMessages()">dropExpiredMessages</a>, <a href="../routing/ActiveRouter.html#exchangeDeliverableMessages()">exchangeDeliverableMessages</a>, <a href="../routing/ActiveRouter.html#getConnections()">getConnections</a>, <a href="../routing/ActiveRouter.html#getMessagesForConnected()">getMessagesForConnected</a>, <a href="../routing/ActiveRouter.html#hasEnergy()">hasEnergy</a>, <a href="../routing/ActiveRouter.html#init(core.DTNHost, java.util.List)">init</a>, <a href="../routing/ActiveRouter.html#isSending(java.lang.String)">isSending</a>, <a href="../routing/ActiveRouter.html#isTransferring()">isTransferring</a>, <a href="../routing/ActiveRouter.html#makeRoomForMessage(int)">makeRoomForMessage</a>, <a href="../routing/ActiveRouter.html#makeRoomForNewMessage(int)">makeRoomForNewMessage</a>, <a href="../routing/ActiveRouter.html#receiveMessage(core.Message, core.DTNHost)">receiveMessage</a>, <a href="../routing/ActiveRouter.html#requestDeliverableMessages(core.Connection)">requestDeliverableMessages</a>, <a href="../routing/ActiveRouter.html#shuffleMessages(java.util.List)">shuffleMessages</a>, <a href="../routing/ActiveRouter.html#startTransfer(core.Message, core.Connection)">startTransfer</a>, <a href="../routing/ActiveRouter.html#transferAborted(core.Connection)">transferAborted</a>, <a href="../routing/ActiveRouter.html#tryAllMessages(core.Connection, java.util.List)">tryAllMessages</a>, <a href="../routing/ActiveRouter.html#tryAllMessagesToAllConnections()">tryAllMessagesToAllConnections</a>, <a href="../routing/ActiveRouter.html#tryMessagesForConnected(java.util.List)">tryMessagesForConnected</a>, <a href="../routing/ActiveRouter.html#tryMessagesToConnections(java.util.List, java.util.List)">tryMessagesToConnections</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_routing.MessageRouter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;routing.<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></h3>
<code><a href="../routing/MessageRouter.html#addApplication(core.Application)">addApplication</a>, <a href="../routing/MessageRouter.html#addToMessages(core.Message, boolean)">addToMessages</a>, <a href="../routing/MessageRouter.html#compareByQueueMode(core.Message, core.Message)">compareByQueueMode</a>, <a href="../routing/MessageRouter.html#deleteMessage(java.lang.String, boolean)">deleteMessage</a>, <a href="../routing/MessageRouter.html#getApplications(java.lang.String)">getApplications</a>, <a href="../routing/MessageRouter.html#getBufferSize()">getBufferSize</a>, <a href="../routing/MessageRouter.html#getFreeBufferSize()">getFreeBufferSize</a>, <a href="../routing/MessageRouter.html#getHost()">getHost</a>, <a href="../routing/MessageRouter.html#getMessage(java.lang.String)">getMessage</a>, <a href="../routing/MessageRouter.html#getMessageCollection()">getMessageCollection</a>, <a href="../routing/MessageRouter.html#getNrofMessages()">getNrofMessages</a>, <a href="../routing/MessageRouter.html#hasMessage(java.lang.String)">hasMessage</a>, <a href="../routing/MessageRouter.html#isBlacklistedMessage(java.lang.String)">isBlacklistedMessage</a>, <a href="../routing/MessageRouter.html#isDeliveredMessage(core.Message)">isDeliveredMessage</a>, <a href="../routing/MessageRouter.html#isIncomingMessage(java.lang.String)">isIncomingMessage</a>, <a href="../routing/MessageRouter.html#messageAborted(java.lang.String, core.DTNHost, int)">messageAborted</a>, <a href="../routing/MessageRouter.html#putToIncomingBuffer(core.Message, core.DTNHost)">putToIncomingBuffer</a>, <a href="../routing/MessageRouter.html#removeFromIncomingBuffer(java.lang.String, core.DTNHost)">removeFromIncomingBuffer</a>, <a href="../routing/MessageRouter.html#removeFromMessages(java.lang.String)">removeFromMessages</a>, <a href="../routing/MessageRouter.html#sendMessage(java.lang.String, core.DTNHost)">sendMessage</a>, <a href="../routing/MessageRouter.html#sortByQueueMode(java.util.List)">sortByQueueMode</a>, <a href="../routing/MessageRouter.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAXPROP_NS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAXPROP_NS</h4>
<pre>public static final&nbsp;java.lang.String MAXPROP_NS</pre>
<div class="block">Router's setting namespace ("MaxPropRouter")</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#routing.MaxPropRouter.MAXPROP_NS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PROB_SET_MAX_SIZE_S">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROB_SET_MAX_SIZE_S</h4>
<pre>public static final&nbsp;java.lang.String PROB_SET_MAX_SIZE_S</pre>
<div class="block">Meeting probability set maximum size -setting id ("probSetMaxSize").
 The maximum amount of meeting probabilities to store.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#routing.MaxPropRouter.PROB_SET_MAX_SIZE_S">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_PROB_SET_MAX_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PROB_SET_MAX_SIZE</h4>
<pre>public static final&nbsp;int DEFAULT_PROB_SET_MAX_SIZE</pre>
<div class="block">Default value for the meeting probability set maximum size (50).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#routing.MaxPropRouter.DEFAULT_PROB_SET_MAX_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BYTES_TRANSFERRED_AVG_SAMPLES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BYTES_TRANSFERRED_AVG_SAMPLES</h4>
<pre>public static&nbsp;int BYTES_TRANSFERRED_AVG_SAMPLES</pre>
<div class="block">Over how many samples the "average number of bytes transferred per
 transfer opportunity" is taken</div>
</li>
</ul>
<a name="ALPHA_S">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALPHA_S</h4>
<pre>public static final&nbsp;java.lang.String ALPHA_S</pre>
<div class="block">The alpha parameter string</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#routing.MaxPropRouter.ALPHA_S">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_ALPHA">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_ALPHA</h4>
<pre>public static final&nbsp;double DEFAULT_ALPHA</pre>
<div class="block">The default value for alpha</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#routing.MaxPropRouter.DEFAULT_ALPHA">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MaxPropRouter(core.Settings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MaxPropRouter</h4>
<pre>public&nbsp;MaxPropRouter(<a href="../core/Settings.html" title="class in core">Settings</a>&nbsp;settings)</pre>
<div class="block">Constructor. Creates a new prototype router based on the settings in
 the given Settings object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>settings</code> - The settings object</dd></dl>
</li>
</ul>
<a name="MaxPropRouter(routing.MaxPropRouter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MaxPropRouter</h4>
<pre>protected&nbsp;MaxPropRouter(<a href="../routing/MaxPropRouter.html" title="class in routing">MaxPropRouter</a>&nbsp;r)</pre>
<div class="block">Copy constructor. Creates a new router based on the given prototype.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>r</code> - The router prototype where setting values are copied from</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="changedConnection(core.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changedConnection</h4>
<pre>public&nbsp;void&nbsp;changedConnection(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../routing/ActiveRouter.html#changedConnection(core.Connection)">ActiveRouter</a></code></strong></div>
<div class="block">Called when a connection's state changes. If energy modeling is enabled,
 and a new connection is created to this node, reduces the energy for the
 device discovery (scan response) amount</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../routing/ActiveRouter.html#changedConnection(core.Connection)">changedConnection</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>con</code> - The connection that changed</dd></dl>
</li>
</ul>
<a name="messageTransferred(java.lang.String, core.DTNHost)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageTransferred</h4>
<pre>public&nbsp;<a href="../core/Message.html" title="class in core">Message</a>&nbsp;messageTransferred(java.lang.String&nbsp;id,
                         <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#messageTransferred(java.lang.String, core.DTNHost)">MessageRouter</a></code></strong></div>
<div class="block">This method should be called (on the receiving host) after a message
 was successfully transferred. The transferred message is put to the
 message buffer unless this host is the final recipient of the message.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../routing/ActiveRouter.html#messageTransferred(java.lang.String, core.DTNHost)">messageTransferred</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - Id of the transferred message</dd><dd><code>from</code> - Host the message was from (previous hop)</dd>
<dt><span class="strong">Returns:</span></dt><dd>The message that this host received</dd></dl>
</li>
</ul>
<a name="transferDone(core.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transferDone</h4>
<pre>protected&nbsp;void&nbsp;transferDone(<a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</pre>
<div class="block">Method is called just before a transfer is finalized 
 at <a href="../routing/ActiveRouter.html#update()"><code>ActiveRouter.update()</code></a>. MaxProp makes book keeping of the
 delivered messages so their IDs are stored.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../routing/ActiveRouter.html#transferDone(core.Connection)">transferDone</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>con</code> - The connection whose transfer was finalized</dd></dl>
</li>
</ul>
<a name="getNextMessageToRemove(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextMessageToRemove</h4>
<pre>protected&nbsp;<a href="../core/Message.html" title="class in core">Message</a>&nbsp;getNextMessageToRemove(boolean&nbsp;excludeMsgBeingSent)</pre>
<div class="block">Returns the next message that should be dropped, according to MaxProp's
 message ordering scheme (see <code>MaxPropTupleComparator</code>).</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../routing/ActiveRouter.html#getNextMessageToRemove(boolean)">getNextMessageToRemove</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>excludeMsgBeingSent</code> - If true, excludes message(s) that are
 being sent from the next-to-be-dropped check (i.e., if next message to
 drop is being sent, the following message is returned)</dd>
<dt><span class="strong">Returns:</span></dt><dd>The oldest message or null if no message could be returned
 (no messages in buffer or all messages in buffer are being sent and
 exludeMsgBeingSent is true)</dd></dl>
</li>
</ul>
<a name="update()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../routing/ActiveRouter.html#update()">ActiveRouter</a></code></strong></div>
<div class="block">Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down. Also drops messages
 whose TTL <= 0 (checking every one simulated minute).</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../routing/ActiveRouter.html#update()">update</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../routing/ActiveRouter.html#addToSendingConnections(core.Connection)"><code>ActiveRouter.addToSendingConnections(Connection)</code></a></dd></dl>
</li>
</ul>
<a name="getCost(core.DTNHost, core.DTNHost)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCost</h4>
<pre>public&nbsp;double&nbsp;getCost(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from,
             <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;to)</pre>
<div class="block">Returns the message delivery cost between two hosts from this host's
 point of view. If there is no path between "from" and "to" host, 
 Double.MAX_VALUE is returned. Paths are calculated only to hosts
 that this host has messages to.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>from</code> - The host where a message is coming from</dd><dd><code>to</code> - The host where a message would be destined to</dd>
<dt><span class="strong">Returns:</span></dt><dd>The cost of the cheapest path to the destination or 
 Double.MAX_VALUE if such a path doesn't exist</dd></dl>
</li>
</ul>
<a name="calcThreshold()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcThreshold</h4>
<pre>public&nbsp;int&nbsp;calcThreshold()</pre>
<div class="block">Calculates and returns the current threshold value for the buffer's split
 based on the average number of bytes transferred per transfer opportunity
 and the hop counts of the messages in the buffer. Method is public only
 to make testing easier.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>current threshold value (hop count) for the buffer's split</dd></dl>
</li>
</ul>
<a name="getRoutingInfo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoutingInfo</h4>
<pre>public&nbsp;<a href="../routing/util/RoutingInfo.html" title="class in routing.util">RoutingInfo</a>&nbsp;getRoutingInfo()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#getRoutingInfo()">MessageRouter</a></code></strong></div>
<div class="block">Returns routing information about this router.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../routing/ActiveRouter.html#getRoutingInfo()">getRoutingInfo</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The routing information.</dd></dl>
</li>
</ul>
<a name="replicate()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>replicate</h4>
<pre>public&nbsp;<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a>&nbsp;replicate()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#replicate()">MessageRouter</a></code></strong></div>
<div class="block">Creates a replicate of this router. The replicate has the same
 settings as this router but empty buffers and routing tables.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../routing/MessageRouter.html#replicate()">replicate</a></code>&nbsp;in class&nbsp;<code><a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The replicate</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../routing/LifeRouter.html" title="class in routing"><span class="strong">Prev Class</span></a></li>
<li><a href="../routing/MaxPropRouterWithEstimation.html" title="class in routing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?routing/MaxPropRouter.html" target="_top">Frames</a></li>
<li><a href="MaxPropRouter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
